<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorate="~{layout}">
<head>
    <title>Home</title>
</head>

<body>
<div layout:fragment="content">
    <div id="wrapper" class="container">
        <section class="header_text sub">
            <th:block th:each="slider : ${sliders}" th:if="${slider.id == 2}">
                <img class="pageBanner" th:src="@{${slider.imageUrl}}" alt="New products" style="width: 1200px; height: 400px;" >
            <h4><span>Shopping Cart</span></h4>
            </th:block>
        </section>
        <section class="main-content">
            <div th:if="${successMessage}" class="alert alert-success" role="alert">
                <p th:text="${successMessage}"></p>
            </div>

            <div class="row">
                <div class="span9">
                    <h4 class="title"><span class="text"><strong>Your</strong> Cart</span></h4>
                    <form th:action="@{/cart/update}" method="post">
                        <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>Remove</th>
                                <th>Image</th>
                                <th>Quantity</th>
                                <th>Unit Price</th>
                                <th>Total</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="item : ${cartItems}">
                                <td>
                                    <input type="checkbox" name="removeIds" th:value="${item.id}">
                                </td>
                                <td>
                                    <img th:src="@{${item.imageUrl}}" alt="" width="100">
                                </td>
                                <td>
                                    <input type="number" name="quantities" th:value="${item.quantity}" min="1" class="input-mini" />
                                    <input type="hidden" name="ids" th:value="${item.id}" />
                                </td>
                                <td th:text="${item.price}"></td>
                                <td th:text="${item.total}"></td>
                            </tr>
                            </tbody>
                        </table>

                        <p class="cart-total right">
                            <strong>Sub-Total</strong>: $<span th:text="${subtotal}"></span><br>
                            <strong>Eco Tax (-2.00)</strong>: $<span th:text="${ecoTax}"></span><br>
                            <strong>VAT (17.5%)</strong>: $<span th:text="${vat}"></span><br>
                            <strong>Total</strong>: $<span th:text="${total}"></span><br>
                        </p>

                        <p class="buttons center">
                            <button class="btn btn-danger" type="submit" name="action" value="remove">Remove</button>
                            <button class="btn btn-primary" type="submit" name="action" value="update">Update</button>

                            <a th:href="@{'/products/category/' + ${4}}" class="btn">Continue</a>

                            <a href="/checkout" class="btn btn-inverse">Checkout</a>

                        </p>
                    </form>

                </div>
                <div class="span3 col">
                    <div class="block">
                        <ul class="nav nav-list below">
                            <li class="nav-header">MANUFACTURES</li>
                            <li th:each="brand : ${brands}">
                                <a th:href="@{'/products/brand/' + ${brand.id}}" th:text="${brand.name}"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
</body>
</html>